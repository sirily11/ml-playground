(this["webpackJsonpml-playground"]=this["webpackJsonpml-playground"]||[]).push([[0],{489:function(e,t,n){},568:function(e,t){},569:function(e,t){},577:function(e,t){},662:function(e,t){},663:function(e,t){},664:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(75),i=n.n(r),s=(n(489),n(668)),l=n(185),o=n(73),j=n(6),d=n(153),b=n(311),u=n(27);function h(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();return c.a.useEffect((function(){var e=r.pathname.split("/");e.length>1?a("/"+e[1]):a("")}),[r]),Object(u.jsx)(b.Header,{style:{backgroundColor:"white",zIndex:100},children:Object(u.jsx)(d.a,{theme:"light",mode:"horizontal",defaultSelectedKeys:["1"],selectedKeys:[n],children:[{title:"Linear Regression",link:"/linear"},{title:"Object Detection",link:"/object_detection"},{title:"Image Generation",link:"/image_generation"}].map((function(e,t){return Object(u.jsx)(d.a.Item,{children:Object(u.jsxs)(l.b,{to:e.link,children:[e.title," "]})},e.link)}))})})}s.a.Header,s.a.Content,s.a.Footer;var f=s.a.Sider;function x(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();c.a.useEffect((function(){a(r.pathname)}),[r]);return Object(u.jsx)(f,{theme:"light",style:{overflow:"auto",height:"100%",position:"fixed",left:0},children:Object(u.jsx)(d.a,{theme:"light",mode:"vertical-left",selectedKeys:[n],children:[{title:"Simple Linear Regression",link:"/linear/simple-regression"}].map((function(e,t){return Object(u.jsx)(d.a.Item,{children:Object(u.jsxs)(l.b,{to:e.link,children:[e.title," "]})},e.link)}))})})}function O(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();c.a.useEffect((function(){a(r.pathname)}),[r]);return Object(u.jsx)(f,{theme:"light",style:{overflow:"auto",height:"100%",position:"fixed",left:0},children:Object(u.jsx)(d.a,{theme:"light",mode:"vertical-left",selectedKeys:[n],children:[{title:"SSD Model",link:"/object_detection/ssd"},{title:"Mobile Net",link:"/object_detection/mobile_net"}].map((function(e,t){return Object(u.jsx)(d.a.Item,{children:Object(u.jsxs)(l.b,{to:e.link,children:[e.title," "]})},e.link)}))})})}function p(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();c.a.useEffect((function(){a(r.pathname)}),[r]);return Object(u.jsx)(f,{theme:"light",style:{overflow:"auto",height:"100%",position:"fixed",left:0},children:Object(u.jsx)(d.a,{theme:"light",mode:"vertical-left",selectedKeys:[n],children:[{title:"Style Transfer",link:"/image_generation/style"}].map((function(e,t){return Object(u.jsx)(d.a.Item,{children:Object(u.jsxs)(l.b,{to:e.link,children:[e.title," "]})},e.link)}))})})}n(563);var m=n(7),g=n(13),v=n(18),y=n(19),k=n(161),w=function(e){Object(v.a)(n,e);var t=Object(y.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=this.props.description;return Object(u.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",flexDirection:"column"},children:Object(u.jsx)(k.a,{description:e})})}}]),n}(a.Component),S=n(5),I=n.n(S),C=n(15),F=n(672),T=n(670),_=n(673),R=n(152),L=n(675),z=n(242),P=n(674),D=n(136),E=n(669),M=n(428),U=n.n(M),H=(n(307),n(306),n(451)),N={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00"},A=function(e,t,n){e.forEach((function(e,a){var c,r=Object(j.a)(e.bbox,4),i=r[0],s=r[1],l=r[2],o=r[3],d=e.class,b=null!==(c=function(e){for(var t=0,n=0,a=Object.entries(N);n<a.length;n++){var c=Object(j.a)(a[n],2),r=(c[0],c[1]);if(t==e)return r;t+=1}}(a))&&void 0!==c?c:"green";t.strokeStyle=b,t.font="18px Arial",t.fillStyle=b,t.beginPath(),t.fillText(d,i-n,s),t.rect(i-n,s,l,o),t.stroke()}))};F.a.Title,F.a.Paragraph,F.a.Text,F.a.Link;function B(){var e=c.a.useState(window.innerWidth),t=Object(j.a)(e,2),n=t[0],a=t[1],r=c.a.useState(!1),i=Object(j.a)(r,2),s=i[0],l=i[1],o=c.a.useState(!1),d=Object(j.a)(o,2),b=d[0],h=d[1],f=c.a.useState([]),x=Object(j.a)(f,2),O=x[0],p=x[1],m=c.a.useState(),g=Object(j.a)(m,2),v=g[0],y=g[1],k=c.a.useRef(null),w=c.a.useRef(null),S=.64;c.a.useEffect((function(){return window.addEventListener("resize",(function(){a(window.innerWidth)})),function(){window.removeEventListener("resize",(function(){})),window.clearInterval(v)}}),[]);var F=c.a.useCallback(Object(C.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,H.load();case 3:t=e.sent,l(!1),h(!0),void 0===v&&setTimeout((function(){var e=setInterval((function(){M(t)}),10);y(e)}),200);case 7:case"end":return e.stop()}}),e)}))),[]),M=function(){var e=Object(C.a)(I.a.mark((function e(t){var n,a,c,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k||!w){e.next=15;break}if("undefined"===typeof k.current||null===k.current||4!==k.current.video.readyState){e.next=15;break}return n=k.current.video,a=k.current.video.videoWidth,c=k.current.video.videoHeight,k.current.video.width=a,k.current.video.height=c,w.current.width=a,w.current.height=c,e.next=11,t.detect(n);case 11:r=e.sent,p(r),i=w.current.getContext("2d"),A(r,i,0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(T.a,{style:{marginTop:20,maxHeight:"80vh"},children:[Object(u.jsx)(_.a,{ghost:!1,backIcon:!1,title:"Object Detection With SSD Model",extra:[Object(u.jsx)(R.a,{type:"primary",onClick:F,disabled:s,loading:s,children:"Run the example"},"1")],children:Object(u.jsxs)(L.b,{size:"small",column:3,children:[Object(u.jsx)(L.b.Item,{label:"Model Name",children:"ssdlite_mobilenet_v2"}),Object(u.jsx)(L.b.Item,{label:"Publisher",children:"TensorFlow"}),Object(u.jsx)(L.b.Item,{label:"Creation Time",children:"04/23/2021"}),Object(u.jsx)(L.b.Item,{label:"Model Size",children:"28.56 MB"})]})}),Object(u.jsxs)(z.a,{children:[Object(u.jsx)(P.a,{active:!0,paragraph:!0,loading:s}),Object(u.jsx)(D.a,{span:18,children:b&&Object(u.jsxs)("div",{style:{position:"relative",height:n*S*3/4,display:"flex"},children:[Object(u.jsx)(U.a,{ref:k,muted:!0,width:n*S*.8,style:{position:"absolute",zIndex:8}}),Object(u.jsx)("canvas",{ref:w,width:n*S*.8,height:n*S*3/4,style:{position:"absolute",zIndex:9}})]})}),Object(u.jsx)(D.a,{span:6,children:b&&Object(u.jsx)(E.a,{pagination:!1,columns:[{title:"Class Name",dataIndex:"name",key:"name",render:function(e){return Object(u.jsx)("a",{children:e})}},{title:"Scores",dataIndex:"score",key:"scores",render:function(e){return Object(u.jsx)("a",{children:e})}}],dataSource:O.map((function(e){return{name:e.class,score:e.score.toFixed(3)}}))})})]})]})}var K=n(151),G=n(482),W=n(479),J=n(671),q=n(677),Q=n(474);function V(){var e=c.a.useState(!1),t=Object(j.a)(e,2),n=t[0],a=(t[1],c.a.useState()),r=Object(j.a)(a,2),i=r[0],s=r[1],l=c.a.useState([]),o=Object(j.a)(l,2),d=o[0],b=o[1],h=c.a.useState(),f=Object(j.a)(h,2),x=f[0],O=f[1],p=c.a.useRef(null);c.a.useEffect((function(){Q.a().then((function(e){O(e)}))}),[]),c.a.useEffect((function(){x&&p&&x.classify(p.current).then((function(e){console.log(e),b(e)}))}),[i]);var m=Object(u.jsxs)("div",{children:[n?Object(u.jsx)(K.a,{}):Object(u.jsx)(G.a,{}),Object(u.jsx)("div",{style:{marginTop:8},children:"Upload"})]}),g=c.a.useCallback(function(){var e=Object(C.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).onload=function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.target.result);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsDataURL(t.file.originFileObj);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(u.jsxs)(T.a,{style:{marginTop:20},children:[void 0===x&&Object(u.jsx)(W.a,{percent:30}),Object(u.jsx)(_.a,{ghost:!1,backIcon:!1,title:"Mobile Net image classification",children:Object(u.jsxs)(L.b,{size:"small",column:3,children:[Object(u.jsx)(L.b.Item,{label:"Model Name",children:"mobile net"}),Object(u.jsx)(L.b.Item,{label:"Publisher",children:"TensorFlow"})]})}),Object(u.jsx)(z.a,{children:i&&Object(u.jsx)("img",{ref:p,src:i,alt:"avatar",style:{width:"100%",objectFit:"contain"},height:"300px"})}),Object(u.jsxs)(z.a,{style:{padding:20},children:[Object(u.jsx)(D.a,{span:4,children:Object(u.jsx)(J.a,{disabled:void 0===x,name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,accept:"image/*",onChange:g,children:m})}),Object(u.jsx)(D.a,{span:20,children:Object(u.jsx)(q.b,{header:Object(u.jsx)("div",{children:"Image Predictions"}),bordered:!0,dataSource:d,renderItem:function(e){return Object(u.jsxs)(q.b.Item,{children:[Object(u.jsx)(F.a.Text,{mark:!0,children:e.className})," ",(100*e.probability).toFixed(2)," %"]})}})})]})]})}var X=n(678),Y=n(676),Z=n(243);function $(){var e=c.a.useState(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=c.a.useState(),i=Object(j.a)(r,2),s=i[0],l=i[1],o=c.a.useState(),d=Object(j.a)(o,2),b=d[0],h=d[1],f=c.a.useState(),x=Object(j.a)(f,2),O=x[0],p=x[1],m=c.a.useRef(null),g=c.a.useRef(null),v=c.a.useCallback((function(e){var t=new FileReader;t.onload=function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t.target.result);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.readAsDataURL(e.file.originFileObj)}),[]),y=c.a.useCallback((function(e){var t=new FileReader;t.onload=function(){var e=Object(C.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t.target.result);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.readAsDataURL(e.file.originFileObj)}),[]),k=c.a.useCallback(Object(C.a)(I.a.mark((function e(){var t,n,c,r,i,s,l,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,Z.loadGraphModel("https://notes.sirileepage.com/files/MSBD5016/models/style_model/model.json");case 4:if(t=e.sent,g.current&&m.current){e.next=8;break}return console.error("Ref not mounted"),e.abrupt("return");case 8:return e.next=10,Z.browser.fromPixelsAsync(g.current);case 10:return n=e.sent.resizeBilinear([224,224]).expandDims().cast("float32"),e.next=13,Z.browser.fromPixelsAsync(m.current);case 13:return c=e.sent.resizeBilinear([224,224]).expandDims().cast("float32"),e.next=16,t.executeAsync([c,n]);case 16:return r=e.sent,e.t0=Z,e.next=20,r.array();case 20:return e.t1=e.sent[0],i=e.t0.tensor.call(e.t0,e.t1),s=i.shape,(l=document.createElement("canvas")).width=s[0],l.height=s[1],e.next=28,Z.browser.toPixels(i,l);case 28:o=l.toDataURL(),p(o),e.next=36;break;case 32:e.prev=32,e.t2=e.catch(1),console.error(e.t2),alert(e.t2);case 36:return e.prev=36,a(!1),e.finish(36);case 39:case"end":return e.stop()}}),e,null,[[1,32,36,39]])}))),[g,m]);return Object(u.jsxs)(T.a,{style:{marginTop:20},children:[Object(u.jsx)(_.a,{ghost:!1,backIcon:!1,title:"Style Transfer",children:Object(u.jsxs)(L.b,{size:"small",column:3,children:[Object(u.jsx)(L.b.Item,{label:"Model Name",children:"arbitrary-image-stylization-v1-256"}),Object(u.jsx)(L.b.Item,{label:"Publisher",children:"Google"}),Object(u.jsx)(L.b.Item,{label:"Updated at",children:"05/01/2021"})]})}),Object(u.jsxs)(z.a,{gutter:10,children:[Object(u.jsx)(D.a,{children:Object(u.jsx)(J.a,{onChange:y,accept:"image/*",showUploadList:!1,children:Object(u.jsx)(R.a,{icon:Object(u.jsx)(X.a,{}),children:"Upload original image"})})}),Object(u.jsx)(D.a,{children:Object(u.jsx)(J.a,{onChange:v,accept:"image/*",showUploadList:!1,children:Object(u.jsx)(R.a,{icon:Object(u.jsx)(X.a,{}),children:"Upload style image"})})})]}),Object(u.jsxs)(z.a,{align:"bottom",gutter:10,style:{marginTop:10},children:[s&&Object(u.jsxs)(D.a,{span:8,children:[Object(u.jsx)("img",{ref:m,src:s,style:{objectFit:"contain",maxHeight:400},width:"100%"}),Object(u.jsx)("p",{children:"Original Image"})]}),b&&Object(u.jsxs)(D.a,{span:8,children:[Object(u.jsx)("img",{ref:g,src:b,style:{objectFit:"contain",maxHeight:400},width:"100%"}),Object(u.jsx)("p",{children:"Style Image"})]}),O&&Object(u.jsxs)(D.a,{span:8,children:[Object(u.jsx)("img",{src:O,style:{objectFit:"contain",maxHeight:400},width:"100%"}),Object(u.jsx)("p",{children:"Generated Image"})]})]}),Object(u.jsx)(Y.a,{style:{position:"absolute",right:10,bottom:10},children:Object(u.jsx)(R.a,{type:"primary",onClick:k,loading:n,disabled:void 0===b||void 0===s,children:"Transfrom the image"})})]})}var ee=function(){return Object(u.jsx)(l.a,{children:Object(u.jsxs)(s.a,{style:{maxHeight:"100%",minHeight:"100vh",overflow:"hidden"},children:[Object(u.jsx)(h,{}),Object(u.jsxs)(s.a,{children:[Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/linear",children:Object(u.jsx)(x,{})}),Object(u.jsx)(o.a,{path:"/object_detection",children:Object(u.jsx)(O,{})}),Object(u.jsx)(o.a,{path:"/image_generation",children:Object(u.jsx)(p,{})}),Object(u.jsx)(o.a,{path:"/",exact:!0,children:Object(u.jsx)(w,{description:"Pick an example"})})]}),Object(u.jsx)(b.Content,{style:{marginLeft:250,height:"100%"},children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/image_generation",exact:!0,children:Object(u.jsx)(w,{description:"Pick a example from left"})}),Object(u.jsx)(o.a,{path:"/image_generation/style",exact:!0,children:Object(u.jsx)($,{})}),Object(u.jsx)(o.a,{path:"/object_detection",exact:!0,children:Object(u.jsx)(w,{description:"Pick a example from left"})}),Object(u.jsx)(o.a,{path:"/object_detection/ssd",exact:!0,children:Object(u.jsx)(B,{})}),Object(u.jsx)(o.a,{path:"/object_detection/mobile_net",exact:!0,children:Object(u.jsx)(V,{})}),Object(u.jsx)(o.a,{path:"/linear",children:Object(u.jsx)("div",{children:"linear"})})]})})]})]})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,679)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(ee,{})}),document.getElementById("root")),te()}},[[664,1,2]]]);
//# sourceMappingURL=main.639af827.chunk.js.map